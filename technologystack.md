# ⚠️ アーカイブ済み

このファイルは古いバージョンの参照用として維持されています。
**最新の情報は必ず `README.md` を参照してください。**

---

# 技術スタック

## バックエンド
- **Python 3.11+** (3.12推奨)
  - 最新の型ヒントと非同期処理機能を活用
- **FastAPI: 0.109.2**
  - 高性能な非同期Webフレームワーク
  - OpenAPI（Swagger）による自動API文書生成
  - Pydanticによる堅牢なデータバリデーション
- **uvicorn: 0.27.1**
  - ASGIサーバー
- **PyMuPDF**
  - 高速なPDF処理
  - 高品質な画像変換機能
- **zipstream: 1.1.4** 
  - ストリーミングZIP生成
- **python-multipart: 0.0.9**
  - マルチパートフォームデータ処理
- **python-dotenv: 1.0.1**
  - 環境変数管理
- **pydantic: 2.6.1**
  - データバリデーション
- **pydantic-settings: 2.1.0**
  - 設定管理
- **jinja2: 3.1.3**
  - テンプレートエンジン

## クラウドサービス
- **Google Cloud Platform**
  - Cloud Run: コンテナ実行環境
  - Cloud Storage: ファイルストレージ

## フロントエンド
- **HTML5/CSS**
  - シンプルで効果的なUI
- **JavaScript (Vanilla)**
  - 非同期アップロード処理
  - EventSource: Server-Sent Events
  - Fetch API
- **Tailwind CSS: 3.4.17**
  - ユーティリティファーストCSSフレームワーク

## 開発ツール
- **Docker**
  - コンテナ化による環境の一貫性確保
  - 簡単なデプロイメント

## 実装規則
- 非同期処理はasync/awaitを使用
- 進捗通知は Server-Sent Events を使用
- エラーハンドリングは FastAPI の例外処理を使用

## ストレージ
- **ローカルモード**
  - アップロードされたPDFのローカル保存
  - 生成された画像のローカル保存
  - /tmp_workspace/にセッションごとのディレクトリを作成

- **クラウドモード**
  - Cloud Storage を使用したPDFのアップロード
  - 画像ファイルのCloud Storageへの保存
  - 署名付きURLによるアップロード/ダウンロード

## セキュリティ
- **CORS設定**
- **ファイルサイズ制限**
- **ファイル形式バリデーション**

## パフォーマンス最適化
- **非同期処理**
  - FastAPIによる非同期リクエスト処理
  - バックグラウンドタスク処理
- **効率的なメモリ管理**
  - ストリーミング処理
  - 一時ファイルの適切な削除